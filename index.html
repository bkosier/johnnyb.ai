<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Johnny B AI - Gulf Coast Hub | Biloxi Bot for Locals</title>
    <meta name="description" content="Chat with Johnny B, your Mississippi Gulf Coast AI assistant. Daily events, news, weather, tides, sunrise/sunset, parades & happenings from New Orleans to Mobile.">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Exo+2:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050505;
            --text: #e0f0ff;
            --accent: #00f0ff;
            --accent-glow: rgba(0, 240, 255, 0.7);
            --secondary: #0f0f1a;
            --overlay: rgba(5, 5, 5, 0.78);
            --mardi: #a020f0;
            --positive: #00ff9d;
            --negative: #ff4d4d;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Exo 2', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background: linear-gradient(rgba(0,240,255,0.02) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(0,240,255,0.02) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: -1;
            opacity: 0.4;
        }
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(15, 15, 26, 0.92);
            backdrop-filter: blur(12px);
            z-index: 200;
            padding: 1rem 0;
        }
        nav {
            display: flex;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        nav ul {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem 2.5rem;
            list-style: none;
        }
        nav a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }
        nav a:hover { color: var(--mardi); text-shadow: 0 0 12px var(--accent-glow); }
        .hamburger { display: none; font-size: 2.2rem; cursor: pointer; color: var(--accent); }
        @media (max-width: 768px) {
            .hamburger { display: block; }
            nav ul { display: none; flex-direction: column; background: var(--secondary); padding: 1rem; gap: 1.5rem; }
            nav ul.active { display: flex; }
        }
        #hero {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }
        .hero-bg {
            position: absolute;
            inset: 0;
            background: url('https://images.johnnyb.ai/MSbot.jpg') center/cover no-repeat;
        }
        .hero-overlay { 
            position: absolute; inset: 0; 
            background: var(--overlay); 
            z-index: 1; 
        }
        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 1000px;
            padding: 2rem;
            animation: pulse 6s infinite alternate ease-in-out;
        }
        @keyframes pulse { 
            0% { text-shadow: 0 0 20px var(--accent-glow); } 
            100% { text-shadow: 0 0 40px var(--accent-glow), 0 0 80px rgba(160,32,240,0.4); } 
        }
        .hero-content h1 { 
            font-size: clamp(4rem, 10vw, 7rem); 
            margin-bottom: 1rem; 
            color: var(--mardi); 
            text-shadow: 0 0 35px var(--accent-glow); 
        }
        .hero-content p { font-size: clamp(1.5rem, 4vw, 2rem); }
        section { 
            padding: 6rem 1.5rem; 
            max-width: 1200px; 
            margin: auto; 
            opacity: 0; 
            transform: translateY(50px); 
            transition: all 1s ease; 
        }
        section.visible { opacity: 1; transform: translateY(0); }
        h2 { 
            font-size: 3rem; 
            color: var(--mardi); 
            text-align: center; 
            margin-bottom: 2rem; 
            text-shadow: 0 0 15px var(--accent-glow); 
        }
        #chat-section { 
            background: var(--secondary); 
            padding: 3rem 2rem; 
            border-radius: 16px; 
            box-shadow: 0 0 30px var(--accent-glow); 
        }
        #chat-input { 
            width: 100%; 
            height: 120px; 
            background: #0a0a20; 
            color: var(--text); 
            border: 1px solid var(--accent); 
            padding: 1rem; 
            border-radius: 8px; 
            font-size: 1.1rem; 
        }
        #chat-send { 
            background: linear-gradient(90deg, var(--accent), var(--mardi)); 
            color: #000; 
            padding: 1rem; 
            border: none; 
            border-radius: 8px; 
            font-size: 1.2rem; 
            cursor: pointer; 
            width: 100%; 
            margin-top: 1rem; 
            transition: all 0.3s; 
        }
        #chat-send:hover { 
            transform: scale(1.03); 
            box-shadow: 0 0 20px var(--accent-glow); 
        }
        #chat-response { 
            margin-top: 2rem; 
            background: #111; 
            padding: 1.5rem; 
            border-radius: 12px; 
            border: 1px solid var(--accent); 
            min-height: 100px; 
        }
        .carousel { 
            position: relative; 
            height: 280px; 
            overflow: hidden; 
            margin: 2rem 0; 
        }
        .slide { 
            position: absolute; 
            inset: 0; 
            opacity: 0; 
            transition: opacity 1s; 
            padding: 1.5rem; 
            background: #0a0a20; 
            border-radius: 12px; 
            text-align: center; 
            border: 1px solid #333; 
        }
        .slide.active { opacity: 1; }
        .slide h3 { color: var(--mardi); margin-bottom: 0.8rem; }
        .slide a { color: var(--accent); text-decoration: none; font-weight: bold; }
        .happening-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
            gap: 1.8rem; 
        }
        .happening-card { 
            background: var(--secondary); 
            border-radius: 12px; 
            border: 1px solid #333; 
            overflow: hidden; 
            transition: all 0.3s; 
            display: flex;
            flex-direction: column;
        }
        .happening-card:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 0 25px var(--accent-glow); 
        }
        .news-img-container {
            width: 100%;
            height: 180px;
            overflow: hidden;
            background: #111;
        }
        .news-img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .card-content {
            padding: 1.2rem 1.2rem 1.5rem;
        }
        .happening-card a { 
            color: var(--accent); 
            text-decoration: none; 
            display: block; 
            margin-top: 0.8rem; 
            font-weight: bold; 
        }
        .loading-placeholder {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--accent);
            font-style: italic;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        button.refresh-btn {
            margin: 1.5rem auto;
            display: block;
            padding: 0.8rem 2rem;
            background: var(--accent);
            color: #000;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
        }
        footer { 
            text-align: center; 
            padding: 4rem 1rem; 
            background: var(--secondary); 
            border-top: 1px solid #333; 
        }
        @media (prefers-reduced-motion: reduce) { 
            * { transition: none !important; animation: none !important; } 
        }
    </style>
</head>
<body>

    <header>
        <nav>
            <div class="hamburger" onclick="toggleNav()">☰</div>
            <ul id="nav-menu">
                <li><a href="#chat-section">Chat with Johnny B</a></li>
                <li><a href="#events">Events & Parades</a></li>
                <li><a href="#news">Local News</a></li>
                <li><a href="#weather">Weather, Sunrise & Tides</a></li>
                <li><a href="#tips">Deals & Tips</a></li>
            </ul>
        </nav>
    </header>

    <section id="hero">
        <div class="hero-bg"></div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1>Johnny B AI</h1>
            <p>Your Mississippi Gulf Coast Assistant — Events, News, Weather, Sunrise/Tides & Local Vibes from New Orleans to Mobile</p>
        </div>
    </section>

    <section id="about">
        <h2>Welcome to the Gulf Coast Hub</h2>
        <p>Johnny B here — your Biloxi-based OpenClaw AI, helping locals stay in the know. Chat for personalized tips, see today's happenings (Happy Fat Tuesday, y'all!), check parades, news, weather/sunrise/tides, and deals across the coast. Built for the Gulf Coast community — from Biloxi to Gulfport, Pascagoula, New Orleans, and Mobile.</p>
    </section>

    <section id="chat-section">
        <h2>Chat with Johnny B</h2>
        <p>Ask anything Gulf Coast-related: "What's on tonight in Biloxi?", "Best parade route?", "Traffic update for I-10?"</p>
        <textarea id="chat-input" placeholder="Type your question here..."></textarea>
        <button id="chat-send">Send to Johnny B</button>
        <div id="chat-response">Johnny B: Hey from Biloxi! What's up on the coast today? (Real responses powered by OpenClaw soon)</div>
    </section>

    <section id="events">
        <h2>Today's Gulf Coast Happenings & Parades (Feb 17, 2026 – Fat Tuesday)</h2>
        <div class="carousel">
            <div class="slide active">
                <h3>Gulf Coast Carnival Association Mardi Gras Parade – Biloxi</h3>
                <p>1 p.m. – Downtown Biloxi. Beads, floats, music — main Fat Tuesday event on the MS Coast!</p>
                <a href="https://www.msgcca.org/" target="_blank">Details & Route</a>
            </div>
            <div class="slide">
                <h3>Mardi Gras Day Parades – Mobile, AL</h3>
                <p>Order of Myths, Joe Cain Day echoes — family-friendly revelry in downtown Mobile.</p>
                <a href="https://www.mobile.org/events/mardi-gras" target="_blank">Schedule</a>
            </div>
            <div class="slide">
                <h3>New Orleans Mardi Gras Climax</h3>
                <p>Rex, Zulu, and street celebrations — massive crowds, king cake, music everywhere.</p>
                <a href="https://www.neworleans.com/mardigras" target="_blank">More</a>
            </div>
            <div class="slide">
                <h3>Chandy Gras – Gulfport</h3>
                <p>11 a.m.–2 p.m. at Chandeleur Island Brewing: music, vendors, dog contest.</p>
                <a href="https://www.facebook.com/chandeleurbrew" target="_blank">Details</a>
            </div>
            <div class="slide">
                <h3>Krewe of Real People – Bay St. Louis</h3>
                <p>1 p.m. – Downtown and backatown Bay St. Louis parade rolling today.</p>
                <a href="https://www.sunherald.com/entertainment/mardi-gras/article314685483.html" target="_blank">More</a>
            </div>
        </div>
    </section>

    <section id="news">
        <h2>Local News Headlines (Feb 17, 2026 – Click to Read)</h2>
        <div id="news-grid" class="happening-grid"></div>
        <button onclick="fetchLocalNews()" class="refresh-btn">Refresh News</button>
    </section>

    <section id="weather">
        <h2>Weather, Sunrise, Sunset & Tides Today (Biloxi Focus – Feb 17, 2026)</h2>
        <div id="weather-grid" class="happening-grid"></div>
        <button onclick="fetchWeatherAndTides()" class="refresh-btn">Refresh Weather & Tides</button>
    </section>

    <section id="tips">
        <h2>Local Tips & Deals</h2>
        <div class="happening-grid">
            <div class="happening-card">
                <h3>Parade Viewing & Traffic</h3>
                <p>Avoid I-10 during peak hours — use alt routes or Amtrak Mardi Gras Service. Stay hydrated!</p>
            </div>
            <div class="happening-card">
                <h3>Casino & Seafood Deals</h3>
                <p>Biloxi specials: Free play for Mardi Gras visitors; fresh Gulf shrimp in Pascagoula markets.</p>
            </div>
            <div class="happening-card">
                <h3>Safety & Fun Tips</h3>
                <p>Catch beads responsibly; check for crowd updates. Happy Mardi Gras, y'all!</p>
            </div>
        </div>
    </section>

    <footer>
        <p>© 2026 Brad Kosier • Biloxi, Mississippi • Powered by OpenClaw • Happy Mardi Gras!</p>
    </footer>

    <script>
        // Hamburger menu
        function toggleNav() {
            document.getElementById("nav-menu").classList.toggle("active");
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', e => {
                e.preventDefault();
                document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                if (window.innerWidth <= 768) toggleNav();
            });
        });

        // Section fade-in
        const sections = document.querySelectorAll('section');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        sections.forEach(sec => observer.observe(sec));

        // Carousel rotation
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        function rotateSlides() {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }
        if (slides.length > 0) setInterval(rotateSlides, 6000);

        // Chat placeholder
        document.getElementById('chat-send').addEventListener('click', () => {
            const input = document.getElementById('chat-input').value.trim();
            if (!input) return;
            const responseDiv = document.getElementById('chat-response');
            let reply = "Johnny B here from Biloxi! ";
            if (input.toLowerCase().includes('parade') || input.toLowerCase().includes('mardi gras') || input.toLowerCase().includes('fat tuesday')) {
                reply += "Fat Tuesday is rockin' today! GCCA parade in Biloxi at 1 p.m., Zulu/Rex in NOLA, Order of Myths in Mobile. Traffic heavy — plan ahead and catch those beads!";
            } else if (input.toLowerCase().includes('weather') || input.toLowerCase().includes('rain') || input.toLowerCase().includes('sunrise') || input.toLowerCase().includes('tide')) {
                reply += "Coast lookin' good: Mid-70s, dry & sunny for parades. Sunrise ~6:33 AM, sunset ~5:45 PM. Tides: Low ~8:06 AM, high ~11:06 PM. Perfect day out there!";
            } else if (input.toLowerCase().includes('biloxi') || input.toLowerCase().includes('gulfport') || input.toLowerCase().includes('pascagoula')) {
                reply += "Right here on the MS Coast! Biloxi/Gulfport/Pascagoula vibes strong today. Casino deals poppin', fresh seafood, parades rollin'. What's your plan?";
            } else {
                reply += "On '" + input + "' — hit me with more details and I'll grab the latest Gulf Coast scoop for ya!";
            }
            responseDiv.innerHTML = reply;
            document.getElementById('chat-input').value = '';
        });

        // Load fallback content first to avoid white/empty state
        window.addEventListener('load', () => {
            populateFallbackNews();
            fetchWeatherAndTides();
            fetchLocalNews(); // attempt live fetch
        });

        function populateFallbackNews() {
            const grid = document.getElementById('news-grid');
            grid.innerHTML = '';
            const fallbacks = [
                { title: 'Fat Tuesday Fun Underway in Biloxi', desc: 'GCCA parade rolling soon — live coverage on WLOX. Good times, no rain!', url: 'https://www.wlox.com/', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd0d5c8?auto=format&fit=crop&w=800&q=80' },
                { title: 'Mobile Mardi Gras Celebration Draws Huge Crowds', desc: 'Beautiful skies and nearly 500,000 attendees.', url: 'https://www.fox10tv.com/2026/02/17/nearly-500000-celebrate-mobile-mardi-gras-under-beautiful-skies/', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd0d5c8?auto=format&fit=crop&w=800&q=80' },
                { title: 'GCCA Fat Tuesday Parade Brings Pop Theme to Biloxi', desc: '118th year, massive bead drop expected.', url: 'https://www.wlox.com/2026/02/09/gulf-coast-carnival-associations-fat-tuesday-parade-bring-pop-biloxi', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd0d5c8?auto=format&fit=crop&w=800&q=80' },
                { title: 'Krewe of Real People Keeps Tradition Alive', desc: 'Bay St. Louis Black Mardi Gras celebration.', url: 'https://www.sunherald.com/entertainment/mardi-gras/article314685483.html', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd0d5c8?auto=format&fit=crop&w=800&q=80' }
            ];
            fallbacks.forEach(item => {
                const card = document.createElement('div');
                card.className = 'happening-card';
                card.innerHTML = `
                    <div class="news-img-container">
                        <img src="${item.img}" alt="${item.title}" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h3>${item.title}</h3>
                        <p>${item.desc}</p>
                        <a href="${item.url}" target="_blank">Read Article</a>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        async function fetchLocalNews() {
            const grid = document.getElementById('news-grid');
            try {
                const apiKey = 'd1936c782ab2cf357102934ec9f0d18f';
                const today = new Date().toISOString().split('T')[0];
                const query = 'Biloxi OR Gulfport OR Pascagoula OR "Mardi Gras" OR "New Orleans" OR Mobile lang:en';
                const url = `https://gnews.io/api/v4/search?q=${encodeURIComponent(query)}&from=${today}&lang=en&country=us&max=6&apikey=${apiKey}`;
                const response = await fetch(url, { signal: AbortSignal.timeout(10000) });
                if (!response.ok) throw new Error(`GNews ${response.status}`);
                const data = await response.json();

                if (data.articles && data.articles.length > 0) {
                    grid.innerHTML = '';
                    data.articles.forEach(article => {
                        const card = document.createElement('div');
                        card.className = 'happening-card';

                        let imgSrc = article.image || getFallbackImage(article.title);

                        card.innerHTML = `
                            <div class="news-img-container">
                                <img src="${imgSrc}" alt="${article.title || 'Gulf Coast news'}" loading="lazy" 
                                     onerror="this.src='https://via.placeholder.com/320x180?text=News+Image'; this.alt='Fallback image';">
                            </div>
                            <div class="card-content">
                                <h3>${article.title || 'Untitled'}</h3>
                                <p>${article.description || 'No description available.'}</p>
                                <a href="${article.url}" target="_blank">Read Full Article (Source: ${article.source?.name || 'GNews'})</a>
                            </div>
                        `;
                        grid.appendChild(card);
                    });
                }
            } catch (error) {
                console.error('News fetch error:', error);
                // Keep fallback content
            }
        }

        function getFallbackImage(title) {
            const t = (title || '').toLowerCase();
            if (t.includes('mardi gras') || t.includes('parade') || t.includes('fat tuesday')) {
                return 'https://images.unsplash.com/photo-1618005182384-a83a8bd0d5c8?auto=format&fit=crop&w=800&q=80';
            }
            if (t.includes('biloxi') || t.includes('gulfport') || t.includes('mississippi')) {
                return 'https://images.unsplash.com/photo-1563299796-17596ed6b017?auto=format&fit=crop&w=800&q=80';
            }
            if (t.includes('mobile') || t.includes('alabama')) {
                return 'https://images.unsplash.com/photo-1580130718646-9f694209b207?auto=format&fit=crop&w=800&q=80';
            }
            return 'https://via.placeholder.com/320x180?text=News+Image';
        }

        // Weather & Tides fetch
        async function fetchWeatherAndTides() {
            const grid = document.getElementById('weather-grid');
            grid.innerHTML = '<p class="loading-placeholder">Updating weather & tides...</p>';
            try {
                const weatherApiKey = '021c238d88874c0fd6ddd743196361ee';
                const lat = 30.3960;
                const lon = -88.8853;
                const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${weatherApiKey}&units=imperial`;
                const weatherResponse = await fetch(weatherUrl, { signal: AbortSignal.timeout(10000) });
                if (!weatherResponse.ok) throw new Error(`Weather API: ${weatherResponse.status}`);
                const weatherData = await weatherResponse.json();

                const sunrise = new Date(weatherData.sys.sunrise * 1000).toLocaleTimeString('en-US', { timeZone: 'America/Chicago', hour: '2-digit', minute: '2-digit' });
                const sunset = new Date(weatherData.sys.sunset * 1000).toLocaleTimeString('en-US', { timeZone: 'America/Chicago', hour: '2-digit', minute: '2-digit' });
                const temp = Math.round(weatherData.main.temp);
                const desc = weatherData.weather[0].description.charAt(0).toUpperCase() + weatherData.weather[0].description.slice(1);

                const today = new Date().toISOString().split('T')[0].replace(/-/g, '');
                const tomorrow = new Date(Date.now() + 86400000).toISOString().split('T')[0].replace(/-/g, '');
                const tideUrl = `https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?begin_date=${today}&end_date=${tomorrow}&station=8745557&product=predictions&datum=MLLW&units=english&time_zone=lst_ldt&format=json`;
                const tideResponse = await fetch(tideUrl, { signal: AbortSignal.timeout(10000) });
                if (!tideResponse.ok) throw new Error(`Tides API: ${tideResponse.status}`);
                const tideData = await tideResponse.json();
                const tides = tideData.predictions || [];
                const low = tides.find(t => t.type === 'L') || { t: 'N/A', v: 'N/A' };
                const high = tides.find(t => t.type === 'H') || { t: 'N/A', v: 'N/A' };

                grid.innerHTML = '';
                grid.innerHTML += `<div class="happening-card"><h3>Biloxi Weather</h3><p>${temp}°F – ${desc}</p></div>`;
                grid.innerHTML += `<div class="happening-card"><h3>Sunrise & Sunset</h3><p>Sunrise: ${sunrise} CST<br>Sunset: ${sunset} CST</p></div>`;
                grid.innerHTML += `<div class="happening-card"><h3>Tides (Biloxi Bay)</h3><p>Low: ${low.t} (~${low.v} ft)<br>High: ${high.t} (~${high.v} ft)</p><p>Times approximate – check NOAA</p></div>`;
            } catch (err) {
                console.error('Weather/Tides error:', err);
                grid.innerHTML = '<p class="loading-placeholder">Live data unavailable (API issue). Using fallback.</p>';
            }
        }
    </script>
</body>
</html>
